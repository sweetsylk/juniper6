<div class="col d-flex">
  <div class="card rounded-card flex-fill">
    {% if recipe.image %}
    <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}"
      class="card-img-top rounded-top-image img-fluid rc-img-format">
    {% else %}
    <p>No image uploaded</p>
    {% endif %}

    <form action="{% url 'save_unsave_recipe' recipe.pk %}" method="post" class="position-absolute top-0 end-0 m-2">
      {% csrf_token %}
      <input type="hidden" name="current_page" value="{{ request.get_full_path }}">
      <button type="submit" class="save-btn border-0 bg-white p-2 rounded-circle shadow-sm">
        {% if user.is_authenticated and user in recipe.saved_by.all %}
        <i class="bi bi-bookmark-fill"></i>
        {% else %}
        <i class="bi bi-bookmark"></i>
        {% endif %}
      </button>
    </form>

    <div class="card-body d-flex flex-column recipe-card-clamp">
      <h5 class="card-title"><a class="link dark-link" href="{% url 'display_recipe' recipe.pk %}">
          {{ recipe.title }}</a></h5>
      <p class="card-author">
        <a class="link grey-link" href="{% url 'display_user_profile' recipe.author.username %}">
          {{ recipe.author.username }}
        </a>
      </p>
      <p class="card-text mt-auto tag-clamp"><small class="text-muted">
          {% for tag in recipe.tags.all %}
          <a class='tag-link' href="{% url 'display_tag' tag=tag.name %}">#{{ tag.name }}</a>
          {% if forloop.last %}...{% endif %}
          {% endfor %}
        </small></p>
    </div>
  </div>
</div>